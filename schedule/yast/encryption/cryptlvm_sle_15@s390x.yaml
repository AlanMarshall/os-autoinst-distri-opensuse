---
name: cryptlvm
description: >
  Instead of the default partitioning layout select encrypted LVM for
  installation using guided setup. LVM groups and volumes are validated, along
  with encryption in the installed system with smoke tests to assure working
  filesystem.
vars:
  DESKTOP: gnome
  HDDSIZEGB: '23'
  MAX_JOB_TIME: '14400'
  PUBLISH_HDD_1: '%DISTRI%-%VERSION%-%ARCH%-Build%BUILD%-%FLAVOR%@%MACHINE%-%DESKTOP%-encrypted.qcow2'
  PUBLISH_PFLASH_VARS: '%DISTRI%-%VERSION%-%ARCH%-Build%BUILD%-%FLAVOR%@%MACHINE%-%DESKTOP%-encrypted-uefi-vars.qcow2'
  ENCRYPT: '1'
  LVM: '1'
schedule:
  - installation/bootloader_s390
  - installation/welcome
  - installation/accept_license
  - installation/disk_activation
  - installation/scc_registration
  - installation/addon_products_sle
  - installation/system_role
  - installation/partitioning
  - installation/partitioning/encrypt_lvm
  - installation/partitioning_finish
  - installation/installer_timezone
  - installation/user_settings
  - installation/user_settings_root
  - installation/resolve_dependency_issues
  - installation/installation_overview
  - installation/disable_grub_timeout
  - installation/start_install
  - installation/await_install
  - installation/logs_from_installation_system
  - installation/reboot_after_installation
  - installation/boot_encrypt
  - boot/reconnect_mgmt_console
  - installation/first_boot
  - console/validate_lvm
  - console/validate_encrypt
