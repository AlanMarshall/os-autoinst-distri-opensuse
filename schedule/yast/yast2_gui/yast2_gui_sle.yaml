---
name:           yast2_gui
description:    >
  Test for yast2 UI, GUI only.
  Running on created gnome images which provides both text console for ncurses UI tests as well
  as the gnome environment for the GUI tests.
vars:
  BOOTFROM: c
  HDDSIZEGB: 20
  SOFTFAIL_BSC1063638: 1
  VALIDATE_ETC_HOSTS: 1
  YUI_REST_API: 1
schedule:
  - installation/bootloader_start
  - boot/boot_to_desktop
  - console/prepare_test_data
  - console/consoletest_setup
  - console/hostname
  - console/setup_libyui_running_system
  - "{{yast2_modules}}"
conditional_schedule:
  yast2_modules:
    ARCH:
      x86_64:
        - yast2_gui/yast2_control_center
        - yast2_gui/yast2_expert_partitioner
        - yast2_gui/yast2_software_management
        - yast2_gui/yast2_security
        - yast2_gui/yast2_firewall
        - yast2_gui/yast2_bootloader
        - x11/yast2_snapper
        - yast2_gui/yast2_lang
        - yast2_gui/yast2_users
        - yast2_gui/yast2_datetime
        - yast2_gui/yast2_hostnames
        - yast2_gui/yast2_network_settings
        - x11/yast2_lan_restart
        - yast2_gui/yast2_lan_restart_bridge
        - yast2_gui/yast2_lan_restart_vlan
        - yast2_gui/yast2_lan_restart_bond

      aarch64:
        - yast2_gui/yast2_software_management
        - yast2_gui/yast2_security
        - x11/yast2_snapper
        - yast2_gui/yast2_lang
        - yast2_gui/yast2_users
        - yast2_gui/yast2_datetime
        - yast2_gui/yast2_hostnames
        - yast2_gui/yast2_network_settings
        - yast2_gui/yast2_lan_restart_bridge
        - yast2_gui/yast2_lan_restart_vlan
        - yast2_gui/yast2_lan_restart_bond
      ppc64le:
        - yast2_gui/yast2_software_management
        - yast2_gui/yast2_security
        - x11/yast2_snapper
        - yast2_gui/yast2_lang
        - yast2_gui/yast2_users
        - yast2_gui/yast2_datetime
        - yast2_gui/yast2_hostnames
        - yast2_gui/yast2_network_settings
        - yast2_gui/yast2_lan_restart_bridge
        - yast2_gui/yast2_lan_restart_vlan
        - yast2_gui/yast2_lan_restart_bond
        - yast2_gui/yast2_expert_partitioner
      s390x:
        - yast2_gui/yast2_software_management
        - yast2_gui/yast2_security
        - x11/yast2_snapper
        - yast2_gui/yast2_lang
        - yast2_gui/yast2_users
        - yast2_gui/yast2_datetime
        - yast2_gui/yast2_hostnames
test_data:
  disks:
    - name: vdb
      partitions:
        - name: vdb1
          size: 200MiB
          formatting_options:
            should_format: 1
            filesystem: ext4
          encrypt_device: 1
        - name: vdb1
          size: 170MiB
  lvm:
    volume_groups:
    - name: vgtest
      devices:
        - /dev/vdb
      logical_volumes:
        - name: lv1
          size: 400MiB
          formatting_options:
            should_format: 1
            filesystem: xfs
        - name: lv2
          size: 400MiB
          formatting_options:
            should_format: 1
            filesystem: ext4
          encrypt_device: 1
        - name: lv3
          size: 400MiB
          formatting_options:
            should_format: 1
            filesystem: btrfs
          encrypt_device: 1
        - name: lv4
          size: 400MiB
          formatting_options:
            should_format: 1
            filesystem: xfs
          encrypt_device: 1
